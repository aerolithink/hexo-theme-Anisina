---
layout: layout
---

<!--only post-->
<% if (page['wechat-share']) { %>

  <img class="wechat-title-img"
       src="<%- config['cdn-url'] %> <%= page['wechat-share'] || page['header-img'] %> <%- config['cdn-url'] ? config['clip-content'] : '' %>">
  <% } else{ %>
  <% if (page["cdn"] === 'header-off'){ %>
    <img class="wechat-title-img" src="<%= page["header-img"] || config["post-default-img"] %>">
  <% } else { %>
    <img class="wechat-title-img"
         src="<%- page['header-img'] ? config['cdn-url'] + page["header-img"] : config["post-default-img"] %>">
  <% } %>
<% } %>
<style>
    <% if (page["cdn"] === 'header-off'){%>
    header.intro-header {
      background-image: url('<%= page["header-img"] || config["post-default-img"]%>');
    }

    <%} else {%>
    header.intro-header {
      background-image: url('<%- page["header-img"]?config["cdn-url"]+page["header-img"]+config["clip-content"] : config["post-default-img"]%>');
    }
    <% } %>
</style>

<style>
header.intro-header {
  <% if (page["header-bg-color"]) { %>
    background-color: #<%= page["header-bg-color"] %>;
  <% } %>

  <% if (page["header-size"]) { %>
    background-size: <%= page["header-size"] %>;
  <% } %>
}
</style>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <div class="post-heading">
                    <h1><%= page.title %></h1>
                    <% if(page.subtitle) { %>
                    <h2 class="subheading"><%= page.subtitle %></h2>
                    <% } %>
                    <span>
                      作者 <%- page.author || config.author %>
                    </span>
                    <% if (page.translator) { %>
                      <span>
                        譯者 <%- page.translator %>
                      </span>
                    <% } %>
                    <span>
                      日期 <%= page.date.format(config.date_format) %>
                    </span>

                    <% if (config.word_count) { %>
                      <span class="post-count">共<%= wordcount(page.content) %>字</span>
                    <% } %>

                    <div class="tags text-center">
                        <% page.tags.forEach(function(tag){ %>
                        <a class="tag" href="<%= config.root %>Tags/#<%= tag.name %>"
                           title="<%= tag.name %>"><%= tag.name %></a>
                        <% }) %>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Container -->
            <%- partial('_partial/sidebar') %>

            <div class="col-lg-7 col-lg-offset-0 col-md-7 col-sm-9 post-container">
              <%- page.content %>
              <%- partial('_partial/Comment') %>
            </div>

            <div class="hidden-xs col-md-2 col-sm-3 toc-col">
                <div class="toc-wrap">
                    <%- toc(page.content, {list_number: false}) %>
                </div>
            </div>
        </div>
    </div>
</article>

<%- partial('_partial/CommentScript') %>
